{"version":3,"sources":["webpack:///./src/views/Upload.vue","webpack:///src/views/Upload.vue","webpack:///./src/views/Upload.vue?1829","webpack:///./src/views/Upload.vue?2b9f"],"names":["render","_vm","this","_c","_self","staticStyle","on","handleClick","_v","ref","attrs","recorderVisible","mediaRecorderConfig","$event","handleTakePhoto","staticRenderFns","data","computed","isIos","test","window","navigator","userAgent","video","aspectRatio","mirror","methods","isMobile","$refs","uploadBtn","click","photo","console","log","dataUrl","a","document","createElement","href","download","body","appendChild","removeChild","component"],"mappings":"uHAAA,IAAIA,EAAS,WAAkB,IAAIC,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,MAAM,CAACE,YAAY,CAAC,aAAa,SAAS,CAACF,EAAG,SAAS,CAACG,GAAG,CAAC,MAAQL,EAAIM,cAAc,CAACN,EAAIO,GAAG,eAAeL,EAAG,QAAQ,CAACM,IAAI,YAAYJ,YAAY,CAAC,WAAa,UAAUK,MAAM,CAAC,KAAO,OAAO,OAAS,UAAU,QAAU,YAAYP,EAAG,gBAAgB,CAACO,MAAM,CAAC,QAAUT,EAAIU,gBAAgB,OAASV,EAAIW,qBAAqBN,GAAG,CAAC,iBAAiB,SAASO,GAAQZ,EAAIU,gBAAgBE,GAAQ,UAAYZ,EAAIa,oBAAoB,IAE9eC,EAAkB,GCWP,GACfC,OACA,OACAL,iBAAA,IAGAM,SAAA,CACAC,QACA,oBAAAC,KAAAC,OAAAC,UAAAC,YAEAV,sBACA,YAAAM,MACA,CACAK,MAAA,CAAAC,YAAA,GACAC,QAAA,GAEA,CACAF,MAAA,CAAAC,YAAA,KACAC,QAAA,KAIAC,QAAA,CACAC,WACA,uEAAAR,KAAAE,UAAAC,YAEAf,cACA,KAAAoB,WACA,KAAAC,MAAAC,UAAAC,QAEA,KAAAnB,iBAAA,GAGAG,gBAAAiB,GACAC,QAAAC,IAAA,kBACA,cAAAC,GAAAH,EACAI,EAAAC,SAAAC,cAAA,KACAF,EAAAG,KAAAJ,EACAC,EAAAI,SAAA,aACAH,SAAAI,KAAAC,YAAAN,GACAA,EAAAL,QACAM,SAAAI,KAAAE,YAAAP,MCtD+U,I,YCO3UQ,EAAY,eACd,EACA3C,EACAe,GACA,EACA,KACA,WACA,MAIa,aAAA4B,E","file":"js/chunk-2d0b2d1c.a5d70edb.js","sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticStyle:{\"text-align\":\"left\"}},[_c('button',{on:{\"click\":_vm.handleClick}},[_vm._v(\"Click me!\")]),_c('input',{ref:\"uploadBtn\",staticStyle:{\"visibility\":\"hidden\"},attrs:{\"type\":\"file\",\"accept\":\"image/*\",\"capture\":\"camera\"}}),_c('MediaRecorder',{attrs:{\"visible\":_vm.recorderVisible,\"config\":_vm.mediaRecorderConfig},on:{\"update:visible\":function($event){_vm.recorderVisible=$event},\"takePhoto\":_vm.handleTakePhoto}})],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div style=\"text-align: left;\">\n    <button @click=\"handleClick\">Click me!</button>\n    <!-- camera照相机 camcorder摄像机 microphone录音 -->\n    <input type=\"file\" accept=\"image/*\" capture=\"camera\" ref=\"uploadBtn\" style=\"visibility: hidden;\">\n    <MediaRecorder\n      :visible.sync=\"recorderVisible\"\n      :config=\"mediaRecorderConfig\"\n      @takePhoto=\"handleTakePhoto\" />\n  </div>\n</template>\n\n<script>\nexport default {\n  data () {\n    return {\n      recorderVisible: false\n    }\n  },\n  computed: {\n    isIos () {\n      return /iPhone|iPad/.test(window.navigator.userAgent)\n    },\n    mediaRecorderConfig () {\n      return this.isIos\n        ? {\n          video: { aspectRatio: 1 / 1 },\n          mirror: true\n        }\n        : {\n          video: { aspectRatio: 4 / 3 },\n          mirror: true\n        }\n    }\n  },\n  methods: {\n    isMobile () {\n      return /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)\n    },\n    handleClick () {\n      if (this.isMobile()) {\n        this.$refs.uploadBtn.click()\n      } else {\n        this.recorderVisible = true\n      }\n    },\n    handleTakePhoto (photo) {\n      console.log('Download Photo')\n      const { dataUrl } = photo\n      const a = document.createElement('a')\n      a.href = dataUrl\n      a.download = 'avatar.png'\n      document.body.appendChild(a)\n      a.click()\n      document.body.removeChild(a)\n    }\n  }\n}\n</script>\n\n<style scoped lang=\"less\">\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Upload.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Upload.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./Upload.vue?vue&type=template&id=e4da1296&scoped=true\"\nimport script from \"./Upload.vue?vue&type=script&lang=js\"\nexport * from \"./Upload.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"e4da1296\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}